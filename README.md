# MINE PULSE

–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∏ —É–¥–æ–±–Ω—ã–º –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º.

---

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –ø–æ IP –∏/–∏–ª–∏ MAC-–∞–¥—Ä–µ—Å—É (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ IP –ø–æ MAC —á–µ—Ä–µ–∑ ARP)
- –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–æ–¥–µ–ª—è–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –∏ Telegram-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é (—Ç–æ–ª—å–∫–æ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞)
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (Bootstrap, –±—ã—Å—Ç—Ä—ã–π –æ—Ç–∫–ª–∏–∫, —Å–ø–∏–Ω–Ω–µ—Ä—ã)
- –ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ .env (–≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã ‚Äî —Ç–æ–ª—å–∫–æ —Ç–∞–º)
- –õ–∞–∫–æ–Ω–∏—á–Ω—ã–µ –ª–æ–≥–∏, —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –æ–ø—Ä–æ—Å, p-limit)
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –≤–Ω—É—Ç—Ä–∏ –≤–∞—à–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- –õ—ë–≥–∫–∏–π –∑–∞–ø—É—Å–∫ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Docker Compose

---

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –ø—Ä–æ–≤–µ—Ä–∫—É —Å–æ—Å—Ç–æ—è–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –æ—à–∏–±–æ–∫, —Ä–∞—Å—Å—ã–ª–∫—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∏ –¥–æ—Å—Ç—É–ø–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

---

## üõ†Ô∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
MINE_PULSE/
‚îú‚îÄ‚îÄ .env
‚îú‚îÄ‚îÄ app.js                # –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä (web)
‚îú‚îÄ‚îÄ server.js             # –∑–∞–ø—É—Å–∫ web-—Å–µ—Ä–≤–µ—Ä–∞
‚îú‚îÄ‚îÄ telegram.js           # –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Telegram
‚îú‚îÄ‚îÄ docker-compose.yml    # –∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
‚îú‚îÄ‚îÄ monitoring/           # —Å–µ—Ä–≤–∏—Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
‚îÇ   ‚îú‚îÄ‚îÄ app.js
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ models/               # –º–æ–¥–µ–ª–∏ MongoDB
‚îÇ   ‚îú‚îÄ‚îÄ admin.js
‚îÇ   ‚îú‚îÄ‚îÄ device.js
‚îÇ   ‚îú‚îÄ‚îÄ pingError.js
‚îÇ   ‚îî‚îÄ‚îÄ settings.js
‚îú‚îÄ‚îÄ public/               # —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ (dashboard)
‚îÇ   ‚îú‚îÄ‚îÄ dashboard.html
‚îÇ   ‚îî‚îÄ‚îÄ logo.png
‚îî‚îÄ‚îÄ README.md
```

---

## ‚öôÔ∏è –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

- –ú–∞—Å—Å–æ–≤–æ–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ø–∏–Ω–≥–æ–≤–∞–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- –ü–æ–∏—Å–∫ IP –ø–æ MAC (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ)
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ—à–∏–±–æ–∫ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Telegram
- –í–µ–±-–ø–∞–Ω–µ–ª—å –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å—Ç–∞—Ç—É—Å–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ MongoDB

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
   ```bash
   git clone <—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π>
   cd <–ø–∞–ø–∫–∞_–ø—Ä–æ–µ–∫—Ç–∞>
   ```

2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:
   ```env
   MONGO_URI=mongodb://mine_pulse_mongo:27017/mine_pulse
   TELEGRAM_BOT_TOKEN=your_telegram_bot_token
   CHAT_ID=your_telegram_chat_id
   PING_INTERVAL=60
   MONITORING_ENABLED=true
   MAC_TO_IP_ENABLED=true
   ```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:
   ```bash
   docker-compose up --build -d
   ```

4. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: [http://localhost:3000](http://localhost:3000)

- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä `web` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä –∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ (–ø–æ—Ä—Ç 3000)
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä `monitoring` ‚Äî —Å–µ—Ä–≤–∏—Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (—Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ñ–æ–Ω–µ)
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä `mongo` ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏:
```bash
docker-compose down
```

## üü¢ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js —á–µ—Ä–µ–∑ nvm (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ)

–ï—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Docker, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Node.js —á–µ—Ä–µ–∑ nvm:

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ nvm:
   ```bash
   curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh | bash
   # –∏–ª–∏ –¥–ª—è Windows: https://github.com/coreybutler/nvm-windows
   ```
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–≤–µ–∂—É—é –≤–µ—Ä—Å–∏—é Node.js:
   ```bash
   nvm install node
   nvm use node
   node -v
   npm -v
   ```

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–µ—Å–ª–∏ –Ω–µ Docker)

–ï—Å–ª–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ –ø—Ä–æ–µ–∫—Ç –±–µ–∑ Docker, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ npm-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
npm install express node-fetch p-limit
```

---

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [–û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞](./docs/overview.md)
- [–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞](./docs/devices.md)
- [–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ Telegram](./docs/settings.md)

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü–æ –≤–æ–ø—Ä–æ—Å–∞–º –∏ –¥–æ—Ä–∞–±–æ—Ç–∫–∞–º ‚Äî —Å–≤—è–∂–∏—Ç–µ—Å—å —Å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º.

---